import{S as t,i as e,s as n,J as r,p as i,q as o,r as a,K as u,u as s,v as l,w as c,C as h,L as f,N as g,I as d,b as p,t as m,c as v,f as y,g as w,h as b,d as _,j as M,k as x,a as k,l as A,m as C}from"./client.a60f3f16.js";import"./Sidebar.c5e8864b.js";import{B as T}from"./blog.800f9aac.js";var D=Array.prototype.slice;function E(t){return t}function N(t){return"translate("+(t+.5)+",0)"}function S(t){return"translate(0,"+(t+.5)+")"}function I(t){return e=>+t(e)}function U(t){var e=Math.max(0,t.bandwidth()-1)/2;return t.round()&&(e=Math.round(e)),function(n){return+t(n)+e}}function F(){return!this.__axis}function H(t,e){var n=[],r=null,i=null,o=6,a=6,u=3,s=1===t||4===t?-1:1,l=4===t||2===t?"x":"y",c=1===t||3===t?N:S;function h(h){var f=null==r?e.ticks?e.ticks.apply(e,n):e.domain():r,g=null==i?e.tickFormat?e.tickFormat.apply(e,n):E:i,d=Math.max(o,0)+u,p=e.range(),m=+p[0]+.5,v=+p[p.length-1]+.5,y=(e.bandwidth?U:I)(e.copy()),w=h.selection?h.selection():h,b=w.selectAll(".domain").data([null]),_=w.selectAll(".tick").data(f,e).order(),M=_.exit(),x=_.enter().append("g").attr("class","tick"),k=_.select("line"),A=_.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),_=_.merge(x),k=k.merge(x.append("line").attr("stroke","currentColor").attr(l+"2",s*o)),A=A.merge(x.append("text").attr("fill","currentColor").attr(l,s*d).attr("dy",1===t?"0em":3===t?"0.71em":"0.32em")),h!==w&&(b=b.transition(h),_=_.transition(h),k=k.transition(h),A=A.transition(h),M=M.transition(h).attr("opacity",1e-6).attr("transform",(function(t){return isFinite(t=y(t))?c(t):this.getAttribute("transform")})),x.attr("opacity",1e-6).attr("transform",(function(t){var e=this.parentNode.__axis;return c(e&&isFinite(e=e(t))?e:y(t))}))),M.remove(),b.attr("d",4===t||2==t?a?"M"+s*a+","+m+"H0.5V"+v+"H"+s*a:"M0.5,"+m+"V"+v:a?"M"+m+","+s*a+"V0.5H"+v+"V"+s*a:"M"+m+",0.5H"+v),_.attr("opacity",1).attr("transform",(function(t){return c(y(t))})),k.attr(l+"2",s*o),A.attr(l,s*d).text(g),w.filter(F).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",2===t?"start":4===t?"end":"middle"),w.each((function(){this.__axis=y}))}return h.scale=function(t){return arguments.length?(e=t,h):e},h.ticks=function(){return n=D.call(arguments),h},h.tickArguments=function(t){return arguments.length?(n=null==t?[]:D.call(t),h):n.slice()},h.tickValues=function(t){return arguments.length?(r=null==t?null:D.call(t),h):r&&r.slice()},h.tickFormat=function(t){return arguments.length?(i=t,h):i},h.tickSize=function(t){return arguments.length?(o=a=+t,h):o},h.tickSizeInner=function(t){return arguments.length?(o=+t,h):o},h.tickSizeOuter=function(t){return arguments.length?(a=+t,h):a},h.tickPadding=function(t){return arguments.length?(u=+t,h):u},h}function L(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function j(t){let e=t,n=t;function r(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)<0?r=o+1:i=o}return r}return 1===t.length&&(e=(e,n)=>t(e)-n,n=function(t){return(e,n)=>L(t(e),n)}(t)),{left:r,center:function(t,n,i,o){null==i&&(i=0),null==o&&(o=t.length);const a=r(t,n,i,o-1);return a>i&&e(t[a-1],n)>-e(t[a],n)?a-1:a},right:function(t,e,r,i){for(null==r&&(r=0),null==i&&(i=t.length);r<i;){const o=r+i>>>1;n(t[o],e)>0?i=o:r=o+1}return r}}}const P=j(L).right;j((function(t){return null===t?NaN:+t})).center;function Y(t,e){let n,r;if(void 0===e)for(const e of t)null!=e&&(void 0===n?e>=e&&(n=r=e):(n>e&&(n=e),r<e&&(r=e)));else{let i=-1;for(let o of t)null!=(o=e(o,++i,t))&&(void 0===n?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}var $=Math.sqrt(50),z=Math.sqrt(10),q=Math.sqrt(2);function O(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return i>=0?(o>=$?10:o>=z?5:o>=q?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(o>=$?10:o>=z?5:o>=q?2:1)}function R(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return o>=$?i*=10:o>=z?i*=5:o>=q&&(i*=2),e<t?-i:i}var B=/^utf-?8|ascii|utf-?16-?le|ucs-?2|base-?64|latin-?1$/i,V=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,W=/\s|\uFEFF|\xA0/,Z=/\r?\n[\x20\x09]+/g,G=/[;,"]/,Q=/[;,"]|\s/,X=/^[!#$%&'*+\-\.^_`|~\da-zA-Z]+$/,J=1,K=2,tt=4;function et(t){return t.replace(V,"")}function nt(t){return W.test(t)}function rt(t,e){for(;nt(t[e]);)e++;return e}function it(t){return Q.test(t)||!X.test(t)}class ot{constructor(t){this.refs=[],t&&this.parse(t)}rel(t){for(var e=[],n=t.toLowerCase(),r=0;r<this.refs.length;r++)this.refs[r].rel.toLowerCase()===n&&e.push(this.refs[r]);return e}get(t,e){t=t.toLowerCase();for(var n=[],r=0;r<this.refs.length;r++)this.refs[r][t]===e&&n.push(this.refs[r]);return n}set(t){return this.refs.push(t),this}has(t,e){t=t.toLowerCase();for(var n=0;n<this.refs.length;n++)if(this.refs[n][t]===e)return!0;return!1}parse(t,e){t=et(t=(e=e||0)?t.slice(e):t).replace(Z,"");for(var n=J,r=t.length,i=(e=0,null);e<r;)if(n===J){if(nt(t[e])){e++;continue}if("<"!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);if(null!=i&&(null!=i.rel?this.refs.push(...ot.expandRelations(i)):this.refs.push(i)),-1===(u=t.indexOf(">",e)))throw new Error("Expected end of URI delimiter at offset "+e);i={uri:t.slice(e+1,u)},e=u,n=K,e++}else if(n===K){if(nt(t[e])){e++;continue}if(";"===t[e])n=tt,e++;else{if(","!==t[e])throw new Error('Unexpected character "'+t[e]+'" at offset '+e);n=J,e++}}else{if(n!==tt)throw new Error('Unknown parser state "'+n+'"');if(";"===t[e]||nt(t[e])){e++;continue}if(-1===(u=t.indexOf("=",e)))throw new Error("Expected attribute delimiter at offset "+e);var o=et(t.slice(e,u)).toLowerCase(),a="";if('"'===t[e=rt(t,e=u+1)])for(e++;e<r;){if('"'===t[e]){e++;break}"\\"===t[e]&&e++,a+=t[e],e++}else{for(var u=e+1;!G.test(t[u])&&u<r;)u++;a=t.slice(e,u),e=u}switch(i[o]&&ot.isSingleOccurenceAttr(o)||("*"===o[o.length-1]?i[o]=ot.parseExtendedValue(a):(a="type"===o?a.toLowerCase():a,null!=i[o]?Array.isArray(i[o])?i[o].push(a):i[o]=[i[o],a]:i[o]=a)),t[e]){case",":n=J;break;case";":n=tt}e++}return null!=i&&(null!=i.rel?this.refs.push(...ot.expandRelations(i)):this.refs.push(i)),i=null,this}toString(){for(var t=[],e="",n=null,r=0;r<this.refs.length;r++)n=this.refs[r],e=Object.keys(this.refs[r]).reduce((function(t,e){return"uri"===e?t:t+"; "+ot.formatAttribute(e,n[e])}),"<"+n.uri+">"),t.push(e);return t.join(", ")}}ot.isCompatibleEncoding=function(t){return B.test(t)},ot.parse=function(t,e){return(new ot).parse(t,e)},ot.isSingleOccurenceAttr=function(t){return"rel"===t||"type"===t||"media"===t||"title"===t||"title*"===t},ot.isTokenAttr=function(t){return"rel"===t||"type"===t||"anchor"===t},ot.escapeQuotes=function(t){return t.replace(/"/g,'\\"')},ot.expandRelations=function(t){return t.rel.split(" ").map((function(e){var n=Object.assign({},t);return n.rel=e,n}))},ot.parseExtendedValue=function(t){var e=/([^']+)?(?:'([^']+)')?(.+)/.exec(t);return{language:e[2].toLowerCase(),encoding:ot.isCompatibleEncoding(e[1])?null:e[1].toLowerCase(),value:ot.isCompatibleEncoding(e[1])?decodeURIComponent(e[3]):e[3]}},ot.formatExtendedAttribute=function(t,e){var n=(e.encoding||"utf-8").toUpperCase();return t+"="+n+"'"+(e.language||"en")+"'"+(Buffer.isBuffer(e.value)&&ot.isCompatibleEncoding(n)?e.value.toString(n):Buffer.isBuffer(e.value)?e.value.toString("hex").replace(/[0-9a-f]{2}/gi,"%$1"):encodeURIComponent(e.value))},ot.formatAttribute=function(t,e){return Array.isArray(e)?e.map((e=>ot.formatAttribute(t,e))).join("; "):"*"===t[t.length-1]||"string"!=typeof e?ot.formatExtendedAttribute(t,e):(ot.isTokenAttr(t)?e=it(e)?'"'+ot.escapeQuotes(e)+'"':ot.escapeQuotes(e):it(e)&&(e='"'+(e=(e=encodeURIComponent(e)).replace(/%20/g," ").replace(/%2C/g,",").replace(/%3B/g,";"))+'"'),t+"="+e)};var at=ot;const ut=Math.PI,st=2*ut,lt=st-1e-6;function ct(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ht(){return new ct}function ft(t){return function(){return t}}function gt(t){this._context=t}function dt(t){return new gt(t)}function pt(t){return t[0]}function mt(t){return t[1]}function vt(t,e){var n=ft(!0),r=null,i=dt,o=null;function a(a){var u,s,l,c=(a=function(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}(a)).length,h=!1;for(null==r&&(o=i(l=ht())),u=0;u<=c;++u)!(u<c&&n(s=a[u],u,a))===h&&((h=!h)?o.lineStart():o.lineEnd()),h&&o.point(+t(s,u,a),+e(s,u,a));if(l)return o=null,l+""||null}return t="function"==typeof t?t:void 0===t?pt:ft(t),e="function"==typeof e?e:void 0===e?mt:ft(e),a.x=function(e){return arguments.length?(t="function"==typeof e?e:ft(+e),a):t},a.y=function(t){return arguments.length?(e="function"==typeof t?t:ft(+t),a):e},a.defined=function(t){return arguments.length?(n="function"==typeof t?t:ft(!!t),a):n},a.curve=function(t){return arguments.length?(i=t,null!=r&&(o=i(r)),a):i},a.context=function(t){return arguments.length?(null==t?r=o=null:o=i(r=t),a):r},a}function yt(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t)}return this}function wt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function bt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function _t(){}ct.prototype=ht.prototype={constructor:ct,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,u=n-t,s=r-e,l=o-t,c=a-e,h=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(h>1e-6)if(Math.abs(c*u-s*l)>1e-6&&i){var f=n-o,g=r-a,d=u*u+s*s,p=f*f+g*g,m=Math.sqrt(d),v=Math.sqrt(h),y=i*Math.tan((ut-Math.acos((d+h-p)/(2*m*v)))/2),w=y/v,b=y/m;Math.abs(w-1)>1e-6&&(this._+="L"+(t+w*l)+","+(e+w*c)),this._+="A"+i+","+i+",0,0,"+ +(c*f>l*g)+","+(this._x1=t+b*u)+","+(this._y1=e+b*s)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e,o=!!o;var a=(n=+n)*Math.cos(r),u=n*Math.sin(r),s=t+a,l=e+u,c=1^o,h=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+s+","+l:(Math.abs(this._x1-s)>1e-6||Math.abs(this._y1-l)>1e-6)&&(this._+="L"+s+","+l),n&&(h<0&&(h=h%st+st),h>lt?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-u)+"A"+n+","+n+",0,1,"+c+","+(this._x1=s)+","+(this._y1=l):h>1e-6&&(this._+="A"+n+","+n+",0,"+ +(h>=ut)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}},gt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Mt=1/.7,xt="\\s*([+-]?\\d+)\\s*",kt="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",At="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ct=/^#([0-9a-f]{3,8})$/,Tt=new RegExp("^rgb\\("+[xt,xt,xt]+"\\)$"),Dt=new RegExp("^rgb\\("+[At,At,At]+"\\)$"),Et=new RegExp("^rgba\\("+[xt,xt,xt,kt]+"\\)$"),Nt=new RegExp("^rgba\\("+[At,At,At,kt]+"\\)$"),St=new RegExp("^hsl\\("+[kt,At,At]+"\\)$"),It=new RegExp("^hsla\\("+[kt,At,At,kt]+"\\)$"),Ut={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function Ft(){return this.rgb().formatHex()}function Ht(){return this.rgb().formatRgb()}function Lt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ct.exec(t))?(n=e[1].length,e=parseInt(e[1],16),6===n?jt(e):3===n?new zt(e>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):8===n?Pt(e>>24&255,e>>16&255,e>>8&255,(255&e)/255):4===n?Pt(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|240&e,((15&e)<<4|15&e)/255):null):(e=Tt.exec(t))?new zt(e[1],e[2],e[3],1):(e=Dt.exec(t))?new zt(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=Et.exec(t))?Pt(e[1],e[2],e[3],e[4]):(e=Nt.exec(t))?Pt(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=St.exec(t))?Bt(e[1],e[2]/100,e[3]/100,1):(e=It.exec(t))?Bt(e[1],e[2]/100,e[3]/100,e[4]):Ut.hasOwnProperty(t)?jt(Ut[t]):"transparent"===t?new zt(NaN,NaN,NaN,0):null}function jt(t){return new zt(t>>16&255,t>>8&255,255&t,1)}function Pt(t,e,n,r){return r<=0&&(t=e=n=NaN),new zt(t,e,n,r)}function Yt(t){return t instanceof _t||(t=Lt(t)),t?new zt((t=t.rgb()).r,t.g,t.b,t.opacity):new zt}function $t(t,e,n,r){return 1===arguments.length?Yt(t):new zt(t,e,n,null==r?1:r)}function zt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function qt(){return"#"+Rt(this.r)+Rt(this.g)+Rt(this.b)}function Ot(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}function Rt(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))<16?"0":"")+t.toString(16)}function Bt(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Wt(t,e,n,r)}function Vt(t){if(t instanceof Wt)return new Wt(t.h,t.s,t.l,t.opacity);if(t instanceof _t||(t=Lt(t)),!t)return new Wt;if(t instanceof Wt)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,u=o-i,s=(o+i)/2;return u?(a=e===o?(n-r)/u+6*(n<r):n===o?(r-e)/u+2:(e-n)/u+4,u/=s<.5?o+i:2-o-i,a*=60):u=s>0&&s<1?0:a,new Wt(a,u,s,t.opacity)}function Wt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Zt(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}wt(_t,Lt,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:Ft,formatHex:Ft,formatHsl:function(){return Vt(this).formatHsl()},formatRgb:Ht,toString:Ht}),wt(zt,$t,bt(_t,{brighter:function(t){return t=null==t?Mt:Math.pow(Mt,t),new zt(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new zt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qt,formatHex:qt,formatRgb:Ot,toString:Ot})),wt(Wt,(function(t,e,n,r){return 1===arguments.length?Vt(t):new Wt(t,e,n,null==r?1:r)}),bt(_t,{brighter:function(t){return t=null==t?Mt:Math.pow(Mt,t),new Wt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Wt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new zt(Zt(t>=240?t-240:t+120,i,r),Zt(t,i,r),Zt(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"hsl(":"hsla(")+(this.h||0)+", "+100*(this.s||0)+"%, "+100*(this.l||0)+"%"+(1===t?")":", "+t+")")}}));var Gt=t=>()=>t;function Qt(t){return 1==(t=+t)?Xt:function(e,n){return n-e?function(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}(e,n,t):Gt(isNaN(e)?n:e)}}function Xt(t,e){var n=e-t;return n?function(t,e){return function(n){return t+n*e}}(t,n):Gt(isNaN(t)?e:t)}var Jt=function t(e){var n=Qt(e);function r(t,e){var r=n((t=$t(t)).r,(e=$t(e)).r),i=n(t.g,e.g),o=n(t.b,e.b),a=Xt(t.opacity,e.opacity);return function(e){return t.r=r(e),t.g=i(e),t.b=o(e),t.opacity=a(e),t+""}}return r.gamma=t,r}(1);function Kt(t,e){e||(e=[]);var n,r=t?Math.min(e.length,t.length):0,i=e.slice();return function(o){for(n=0;n<r;++n)i[n]=t[n]*(1-o)+e[n]*o;return i}}function te(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=ue(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function ee(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ne(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function re(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=ue(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var ie=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,oe=new RegExp(ie.source,"g");function ae(t,e){var n,r,i,o=ie.lastIndex=oe.lastIndex=0,a=-1,u=[],s=[];for(t+="",e+="";(n=ie.exec(t))&&(r=oe.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),u[a]?u[a]+=i:u[++a]=i),(n=n[0])===(r=r[0])?u[a]?u[a]+=r:u[++a]=r:(u[++a]=null,s.push({i:a,x:ne(n,r)})),o=oe.lastIndex;return o<e.length&&(i=e.slice(o),u[a]?u[a]+=i:u[++a]=i),u.length<2?s[0]?function(t){return function(e){return t(e)+""}}(s[0].x):function(t){return function(){return t}}(e):(e=s.length,function(t){for(var n,r=0;r<e;++r)u[(n=s[r]).i]=n.x(t);return u.join("")})}function ue(t,e){var n,r=typeof e;return null==e||"boolean"===r?Gt(e):("number"===r?ne:"string"===r?(n=Lt(e))?(e=n,Jt):ae:e instanceof Lt?Jt:e instanceof Date?ee:function(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}(e)?Kt:Array.isArray(e)?te:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?re:ne)(t,e)}function se(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function le(t){return+t}var ce=[0,1];function he(t){return t}function fe(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:function(t){return function(){return t}}(isNaN(e)?NaN:.5)}function ge(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=fe(i,r),o=n(a,o)):(r=fe(r,i),o=n(o,a)),function(t){return o(r(t))}}function de(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=fe(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(e){var n=P(t,e,1,r)-1;return o[n](i[n](e))}}function pe(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function me(){var t,e,n,r,i,o,a=ce,u=ce,s=ue,l=he;function c(){var t,e,n,s=Math.min(a.length,u.length);return l!==he&&(t=a[0],e=a[s-1],t>e&&(n=t,t=e,e=n),l=function(n){return Math.max(t,Math.min(e,n))}),r=s>2?de:ge,i=o=null,h}function h(e){return isNaN(e=+e)?n:(i||(i=r(a.map(t),u,s)))(t(l(e)))}return h.invert=function(n){return l(e((o||(o=r(u,a.map(t),ne)))(n)))},h.domain=function(t){return arguments.length?(a=Array.from(t,le),c()):a.slice()},h.range=function(t){return arguments.length?(u=Array.from(t),c()):u.slice()},h.rangeRound=function(t){return u=Array.from(t),s=se,c()},h.clamp=function(t){return arguments.length?(l=!!t||he,c()):l!==he},h.interpolate=function(t){return arguments.length?(s=t,c()):s},h.unknown=function(t){return arguments.length?(n=t,h):n},function(n,r){return t=n,e=r,c()}}function ve(){return me()(he,he)}function ye(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function we(t){return(t=ye(Math.abs(t)))?t[1]:NaN}var be,_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Me(t){if(!(e=_e.exec(t)))throw new Error("invalid format: "+t);var e;return new xe({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}function xe(t){this.fill=void 0===t.fill?" ":t.fill+"",this.align=void 0===t.align?">":t.align+"",this.sign=void 0===t.sign?"-":t.sign+"",this.symbol=void 0===t.symbol?"":t.symbol+"",this.zero=!!t.zero,this.width=void 0===t.width?void 0:+t.width,this.comma=!!t.comma,this.precision=void 0===t.precision?void 0:+t.precision,this.trim=!!t.trim,this.type=void 0===t.type?"":t.type+""}function ke(t,e){var n=ye(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}Me.prototype=xe.prototype,xe.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(void 0===this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(void 0===this.precision?"":"."+Math.max(0,0|this.precision))+(this.trim?"~":"")+this.type};var Ae={"%":(t,e)=>(100*t).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:function(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)},e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>ke(100*t,e),r:ke,s:function(t,e){var n=ye(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(be=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+ye(t,Math.max(0,e+o-1))[0]},X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Ce(t){return t}var Te,De,Ee,Ne=Array.prototype.map,Se=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ie(t){var e,n,r=void 0===t.grouping||void 0===t.thousands?Ce:(e=Ne.call(t.grouping,Number),n=t.thousands+"",function(t,r){for(var i=t.length,o=[],a=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),o.push(t.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[a=(a+1)%e.length];return o.reverse().join(n)}),i=void 0===t.currency?"":t.currency[0]+"",o=void 0===t.currency?"":t.currency[1]+"",a=void 0===t.decimal?".":t.decimal+"",u=void 0===t.numerals?Ce:function(t){return function(e){return e.replace(/[0-9]/g,(function(e){return t[+e]}))}}(Ne.call(t.numerals,String)),s=void 0===t.percent?"%":t.percent+"",l=void 0===t.minus?"−":t.minus+"",c=void 0===t.nan?"NaN":t.nan+"";function h(t){var e=(t=Me(t)).fill,n=t.align,h=t.sign,f=t.symbol,g=t.zero,d=t.width,p=t.comma,m=t.precision,v=t.trim,y=t.type;"n"===y?(p=!0,y="g"):Ae[y]||(void 0===m&&(m=12),v=!0,y="g"),(g||"0"===e&&"="===n)&&(g=!0,e="0",n="=");var w="$"===f?i:"#"===f&&/[boxX]/.test(y)?"0"+y.toLowerCase():"",b="$"===f?o:/[%p]/.test(y)?s:"",_=Ae[y],M=/[defgprs%]/.test(y);function x(t){var i,o,s,f=w,x=b;if("c"===y)x=_(t)+x,t="";else{var k=(t=+t)<0||1/t<0;if(t=isNaN(t)?c:_(Math.abs(t),m),v&&(t=function(t){t:for(var e,n=t.length,r=1,i=-1;r<n;++r)switch(t[r]){case".":i=e=r;break;case"0":0===i&&(i=r),e=r;break;default:if(!+t[r])break t;i>0&&(i=0)}return i>0?t.slice(0,i)+t.slice(e+1):t}(t)),k&&0==+t&&"+"!==h&&(k=!1),f=(k?"("===h?h:l:"-"===h||"("===h?"":h)+f,x=("s"===y?Se[8+be/3]:"")+x+(k&&"("===h?")":""),M)for(i=-1,o=t.length;++i<o;)if(48>(s=t.charCodeAt(i))||s>57){x=(46===s?a+t.slice(i+1):t.slice(i))+x,t=t.slice(0,i);break}}p&&!g&&(t=r(t,1/0));var A=f.length+t.length+x.length,C=A<d?new Array(d-A+1).join(e):"";switch(p&&g&&(t=r(C+t,C.length?d-x.length:1/0),C=""),n){case"<":t=f+t+x+C;break;case"=":t=f+C+t+x;break;case"^":t=C.slice(0,A=C.length>>1)+f+t+x+C.slice(A);break;default:t=C+f+t+x}return u(t)}return m=void 0===m?6:/[gprs]/.test(y)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return t+""},x}return{format:h,formatPrefix:function(t,e){var n=h(((t=Me(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(we(e)/3))),i=Math.pow(10,-r),o=Se[8+r/3];return function(t){return n(i*t)+o}}}}function Ue(t,e,n,r){var i,o=R(t,e,n);switch((r=Me(null==r?",f":r)).type){case"s":var a=Math.max(Math.abs(t),Math.abs(e));return null!=r.precision||isNaN(i=function(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(we(e)/3)))-we(Math.abs(t)))}(o,a))||(r.precision=i),Ee(r,a);case"":case"e":case"g":case"p":case"r":null!=r.precision||isNaN(i=function(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,we(e)-we(t))+1}(o,Math.max(Math.abs(t),Math.abs(e))))||(r.precision=i-("e"===r.type));break;case"f":case"%":null!=r.precision||isNaN(i=function(t){return Math.max(0,-we(Math.abs(t)))}(o))||(r.precision=i-2*("%"===r.type))}return De(r)}function Fe(t){var e=t.domain;return t.ticks=function(t){var n=e();return function(t,e,n){var r,i,o,a,u=-1;if(n=+n,(t=+t)==(e=+e)&&n>0)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=O(t,e,n))||!isFinite(a))return[];if(a>0)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)*a;else for(a=-a,t=Math.ceil(t*a),e=Math.floor(e*a),o=new Array(i=Math.ceil(e-t+1));++u<i;)o[u]=(t+u)/a;return r&&o.reverse(),o}(n[0],n[n.length-1],null==t?10:t)},t.tickFormat=function(t,n){var r=e();return Ue(r[0],r[r.length-1],null==t?10:t,n)},t.nice=function(n){null==n&&(n=10);var r,i,o=e(),a=0,u=o.length-1,s=o[a],l=o[u],c=10;for(l<s&&(i=s,s=l,l=i,i=a,a=u,u=i);c-- >0;){if((i=O(s,l,n))===r)return o[a]=s,o[u]=l,e(o);if(i>0)s=Math.floor(s/i)*i,l=Math.ceil(l/i)*i;else{if(!(i<0))break;s=Math.ceil(s*i)/i,l=Math.floor(l*i)/i}r=i}return t},t}function He(){var t=ve();return t.copy=function(){return pe(t,He())},yt.apply(t,arguments),Fe(t)}Te=Ie({thousands:",",grouping:[3],currency:["$",""]}),De=Te.format,Ee=Te.formatPrefix;var Le=new Date,je=new Date;function Pe(t,e,n,r){function i(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return i.floor=function(e){return t(e=new Date(+e)),e},i.ceil=function(n){return t(n=new Date(n-1)),e(n,1),t(n),n},i.round=function(t){var e=i(t),n=i.ceil(t);return t-e<n-t?e:n},i.offset=function(t,n){return e(t=new Date(+t),null==n?1:Math.floor(n)),t},i.range=function(n,r,o){var a,u=[];if(n=i.ceil(n),o=null==o?1:Math.floor(o),!(n<r&&o>0))return u;do{u.push(a=new Date(+n)),e(n,o),t(n)}while(a<n&&n<r);return u},i.filter=function(n){return Pe((function(e){if(e>=e)for(;t(e),!n(e);)e.setTime(e-1)}),(function(t,r){if(t>=t)if(r<0)for(;++r<=0;)for(;e(t,-1),!n(t););else for(;--r>=0;)for(;e(t,1),!n(t););}))},n&&(i.count=function(e,r){return Le.setTime(+e),je.setTime(+r),t(Le),t(je),Math.floor(n(Le,je))},i.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?i.filter(r?function(e){return r(e)%t==0}:function(e){return i.count(0,e)%t==0}):i:null}),i}var Ye=Pe((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));Ye.every=function(t){return t=Math.floor(t),isFinite(t)&&t>0?t>1?Pe((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,n){e.setTime(+e+n*t)}),(function(e,n){return(n-e)/t})):Ye:null};var $e=Pe((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),ze=Pe((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),qe=Pe((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),Oe=Pe((t=>t.setHours(0,0,0,0)),((t,e)=>t.setDate(t.getDate()+e)),((t,e)=>(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5),(t=>t.getDate()-1));function Re(t){return Pe((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var Be=Re(0),Ve=Re(1),We=(Re(2),Re(3),Re(4)),Ze=(Re(5),Re(6),Pe((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()}))),Ge=Pe((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));Ge.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Pe((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,n){e.setFullYear(e.getFullYear()+n*t)})):null};var Qe=Pe((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1}));function Xe(t){return Pe((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var Je=Xe(0),Ke=Xe(1),tn=(Xe(2),Xe(3),Xe(4)),en=(Xe(5),Xe(6),Pe((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()})));function nn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function rn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function on(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}en.every=function(t){return isFinite(t=Math.floor(t))&&t>0?Pe((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,n){e.setUTCFullYear(e.getUTCFullYear()+n*t)})):null};var an,un,sn,ln={"-":"",_:" ",0:"0"},cn=/^\s*\d+/,hn=/^%/,fn=/[\\^$*+?|[\]().{}]/g;function gn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function dn(t){return t.replace(fn,"\\$&")}function pn(t){return new RegExp("^(?:"+t.map(dn).join("|")+")","i")}function mn(t){return new Map(t.map(((t,e)=>[t.toLowerCase(),e])))}function vn(t,e,n){var r=cn.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function yn(t,e,n){var r=cn.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function wn(t,e,n){var r=cn.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function bn(t,e,n){var r=cn.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function _n(t,e,n){var r=cn.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Mn(t,e,n){var r=cn.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function xn(t,e,n){var r=cn.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function kn(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function An(t,e,n){var r=cn.exec(e.slice(n,n+1));return r?(t.q=3*r[0]-3,n+r[0].length):-1}function Cn(t,e,n){var r=cn.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Tn(t,e,n){var r=cn.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Dn(t,e,n){var r=cn.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function En(t,e,n){var r=cn.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Nn(t,e,n){var r=cn.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Sn(t,e,n){var r=cn.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function In(t,e,n){var r=cn.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Un(t,e,n){var r=cn.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Fn(t,e,n){var r=hn.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Hn(t,e,n){var r=cn.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ln(t,e,n){var r=cn.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function jn(t,e){return gn(t.getDate(),e,2)}function Pn(t,e){return gn(t.getHours(),e,2)}function Yn(t,e){return gn(t.getHours()%12||12,e,2)}function $n(t,e){return gn(1+Oe.count(Ge(t),t),e,3)}function zn(t,e){return gn(t.getMilliseconds(),e,3)}function qn(t,e){return zn(t,e)+"000"}function On(t,e){return gn(t.getMonth()+1,e,2)}function Rn(t,e){return gn(t.getMinutes(),e,2)}function Bn(t,e){return gn(t.getSeconds(),e,2)}function Vn(t){var e=t.getDay();return 0===e?7:e}function Wn(t,e){return gn(Be.count(Ge(t)-1,t),e,2)}function Zn(t){var e=t.getDay();return e>=4||0===e?We(t):We.ceil(t)}function Gn(t,e){return t=Zn(t),gn(We.count(Ge(t),t)+(4===Ge(t).getDay()),e,2)}function Qn(t){return t.getDay()}function Xn(t,e){return gn(Ve.count(Ge(t)-1,t),e,2)}function Jn(t,e){return gn(t.getFullYear()%100,e,2)}function Kn(t,e){return gn((t=Zn(t)).getFullYear()%100,e,2)}function tr(t,e){return gn(t.getFullYear()%1e4,e,4)}function er(t,e){var n=t.getDay();return gn((t=n>=4||0===n?We(t):We.ceil(t)).getFullYear()%1e4,e,4)}function nr(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+gn(e/60|0,"0",2)+gn(e%60,"0",2)}function rr(t,e){return gn(t.getUTCDate(),e,2)}function ir(t,e){return gn(t.getUTCHours(),e,2)}function or(t,e){return gn(t.getUTCHours()%12||12,e,2)}function ar(t,e){return gn(1+Qe.count(en(t),t),e,3)}function ur(t,e){return gn(t.getUTCMilliseconds(),e,3)}function sr(t,e){return ur(t,e)+"000"}function lr(t,e){return gn(t.getUTCMonth()+1,e,2)}function cr(t,e){return gn(t.getUTCMinutes(),e,2)}function hr(t,e){return gn(t.getUTCSeconds(),e,2)}function fr(t){var e=t.getUTCDay();return 0===e?7:e}function gr(t,e){return gn(Je.count(en(t)-1,t),e,2)}function dr(t){var e=t.getUTCDay();return e>=4||0===e?tn(t):tn.ceil(t)}function pr(t,e){return t=dr(t),gn(tn.count(en(t),t)+(4===en(t).getUTCDay()),e,2)}function mr(t){return t.getUTCDay()}function vr(t,e){return gn(Ke.count(en(t)-1,t),e,2)}function yr(t,e){return gn(t.getUTCFullYear()%100,e,2)}function wr(t,e){return gn((t=dr(t)).getUTCFullYear()%100,e,2)}function br(t,e){return gn(t.getUTCFullYear()%1e4,e,4)}function _r(t,e){var n=t.getUTCDay();return gn((t=n>=4||0===n?tn(t):tn.ceil(t)).getUTCFullYear()%1e4,e,4)}function Mr(){return"+0000"}function xr(){return"%"}function kr(t){return+t}function Ar(t){return Math.floor(+t/1e3)}!function(t){an=function(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,u=t.months,s=t.shortMonths,l=pn(i),c=mn(i),h=pn(o),f=mn(o),g=pn(a),d=mn(a),p=pn(u),m=mn(u),v=pn(s),y=mn(s),w={a:function(t){return a[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return s[t.getMonth()]},B:function(t){return u[t.getMonth()]},c:null,d:jn,e:jn,f:qn,g:Kn,G:er,H:Pn,I:Yn,j:$n,L:zn,m:On,M:Rn,p:function(t){return i[+(t.getHours()>=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:kr,s:Ar,S:Bn,u:Vn,U:Wn,V:Gn,w:Qn,W:Xn,x:null,X:null,y:Jn,Y:tr,Z:nr,"%":xr},b={a:function(t){return a[t.getUTCDay()]},A:function(t){return o[t.getUTCDay()]},b:function(t){return s[t.getUTCMonth()]},B:function(t){return u[t.getUTCMonth()]},c:null,d:rr,e:rr,f:sr,g:wr,G:_r,H:ir,I:or,j:ar,L:ur,m:lr,M:cr,p:function(t){return i[+(t.getUTCHours()>=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:kr,s:Ar,S:hr,u:fr,U:gr,V:pr,w:mr,W:vr,x:null,X:null,y:yr,Y:br,Z:Mr,"%":xr},_={a:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.w=d.get(r[0].toLowerCase()),n+r[0].length):-1},A:function(t,e,n){var r=h.exec(e.slice(n));return r?(t.w=f.get(r[0].toLowerCase()),n+r[0].length):-1},b:function(t,e,n){var r=v.exec(e.slice(n));return r?(t.m=y.get(r[0].toLowerCase()),n+r[0].length):-1},B:function(t,e,n){var r=p.exec(e.slice(n));return r?(t.m=m.get(r[0].toLowerCase()),n+r[0].length):-1},c:function(t,n,r){return k(t,e,n,r)},d:Tn,e:Tn,f:Un,g:xn,G:Mn,H:En,I:En,j:Dn,L:In,m:Cn,M:Nn,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c.get(r[0].toLowerCase()),n+r[0].length):-1},q:An,Q:Hn,s:Ln,S:Sn,u:yn,U:wn,V:bn,w:vn,W:_n,x:function(t,e,r){return k(t,n,e,r)},X:function(t,e,n){return k(t,r,e,n)},y:xn,Y:Mn,Z:kn,"%":Fn};function M(t,e){return function(n){var r,i,o,a=[],u=-1,s=0,l=t.length;for(n instanceof Date||(n=new Date(+n));++u<l;)37===t.charCodeAt(u)&&(a.push(t.slice(s,u)),null!=(i=ln[r=t.charAt(++u)])?r=t.charAt(++u):i="e"===r?" ":"0",(o=e[r])&&(r=o(n,i)),a.push(r),s=u+1);return a.push(t.slice(s,u)),a.join("")}}function x(t,e){return function(n){var r,i,o=on(1900,void 0,1);if(k(o,t,n+="",0)!=n.length)return null;if("Q"in o)return new Date(o.Q);if("s"in o)return new Date(1e3*o.s+("L"in o?o.L:0));if(e&&!("Z"in o)&&(o.Z=0),"p"in o&&(o.H=o.H%12+12*o.p),void 0===o.m&&(o.m="q"in o?o.q:0),"V"in o){if(o.V<1||o.V>53)return null;"w"in o||(o.w=1),"Z"in o?(i=(r=rn(on(o.y,0,1))).getUTCDay(),r=i>4||0===i?Ke.ceil(r):Ke(r),r=Qe.offset(r,7*(o.V-1)),o.y=r.getUTCFullYear(),o.m=r.getUTCMonth(),o.d=r.getUTCDate()+(o.w+6)%7):(i=(r=nn(on(o.y,0,1))).getDay(),r=i>4||0===i?Ve.ceil(r):Ve(r),r=Oe.offset(r,7*(o.V-1)),o.y=r.getFullYear(),o.m=r.getMonth(),o.d=r.getDate()+(o.w+6)%7)}else("W"in o||"U"in o)&&("w"in o||(o.w="u"in o?o.u%7:"W"in o?1:0),i="Z"in o?rn(on(o.y,0,1)).getUTCDay():nn(on(o.y,0,1)).getDay(),o.m=0,o.d="W"in o?(o.w+6)%7+7*o.W-(i+5)%7:o.w+7*o.U-(i+6)%7);return"Z"in o?(o.H+=o.Z/100|0,o.M+=o.Z%100,rn(o)):nn(o)}}function k(t,e,n,r){for(var i,o,a=0,u=e.length,s=n.length;a<u;){if(r>=s)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=_[i in ln?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return w.x=M(n,w),w.X=M(r,w),w.c=M(e,w),b.x=M(n,b),b.X=M(r,b),b.c=M(e,b),{format:function(t){var e=M(t+="",w);return e.toString=function(){return t},e},parse:function(t){var e=x(t+="",!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=M(t+="",b);return e.toString=function(){return t},e},utcParse:function(t){var e=x(t+="",!0);return e.toString=function(){return t},e}}}(t),un=an.format,sn=an.parse,an.utcFormat,an.utcParse}({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Cr(t){return new Date(t)}function Tr(t){return t instanceof Date?+t:+new Date(+t)}function Dr(t,e,n,r,i,o,a,u,s){var l=ve(),c=l.invert,h=l.domain,f=s(".%L"),g=s(":%S"),d=s("%I:%M"),p=s("%I %p"),m=s("%a %d"),v=s("%b %d"),y=s("%B"),w=s("%Y"),b=[[a,1,1e3],[a,5,5e3],[a,15,15e3],[a,30,3e4],[o,1,6e4],[o,5,3e5],[o,15,9e5],[o,30,18e5],[i,1,36e5],[i,3,108e5],[i,6,216e5],[i,12,432e5],[r,1,864e5],[r,2,1728e5],[n,1,6048e5],[e,1,2592e6],[e,3,7776e6],[t,1,31536e6]];function _(u){return(a(u)<u?f:o(u)<u?g:i(u)<u?d:r(u)<u?p:e(u)<u?n(u)<u?m:v:t(u)<u?y:w)(u)}function M(e,n,r){if(null==e&&(e=10),"number"==typeof e){var i,o=Math.abs(r-n)/e,a=j((function(t){return t[2]})).right(b,o);return a===b.length?(i=R(n/31536e6,r/31536e6,e),e=t):a?(i=(a=b[o/b[a-1][2]<b[a][2]/o?a-1:a])[1],e=a[0]):(i=Math.max(R(n,r,e),1),e=u),e.every(i)}return e}return l.invert=function(t){return new Date(c(t))},l.domain=function(t){return arguments.length?h(Array.from(t,Tr)):h().map(Cr)},l.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1],o=i<r;return o&&(e=r,r=i,i=e),e=(e=M(t,r,i))?e.range(r,i+1):[],o?e.reverse():e},l.tickFormat=function(t,e){return null==e?_:s(e)},l.nice=function(t){var e=h();return(t=M(t,e[0],e[e.length-1]))?h(function(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}(e,t)):l},l.copy=function(){return pe(l,Dr(t,e,n,r,i,o,a,u,s))},l}var Er="http://www.w3.org/1999/xhtml",Nr={svg:"http://www.w3.org/2000/svg",xhtml:Er,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Sr(t){var e=t+="",n=e.indexOf(":");return n>=0&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Nr.hasOwnProperty(e)?{space:Nr[e],local:t}:t}function Ir(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Er&&e.documentElement.namespaceURI===Er?e.createElement(t):e.createElementNS(n,t)}}function Ur(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Fr(t){var e=Sr(t);return(e.local?Ur:Ir)(e)}function Hr(){}function Lr(t){return null==t?Hr:function(){return this.querySelector(t)}}function jr(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Pr(){return[]}function Yr(t){return function(e){return e.matches(t)}}var $r=Array.prototype.find;function zr(){return this.firstElementChild}var qr=Array.prototype.filter;function Or(){return this.children}function Rr(t){return new Array(t.length)}function Br(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}function Vr(t){return function(){return t}}function Wr(t,e,n,r,i,o){for(var a,u=0,s=e.length,l=o.length;u<l;++u)(a=e[u])?(a.__data__=o[u],r[u]=a):n[u]=new Br(t,o[u]);for(;u<s;++u)(a=e[u])&&(i[u]=a)}function Zr(t,e,n,r,i,o,a){var u,s,l,c=new Map,h=e.length,f=o.length,g=new Array(h);for(u=0;u<h;++u)(s=e[u])&&(g[u]=l=a.call(s,s.__data__,u,e)+"",c.has(l)?i[u]=s:c.set(l,s));for(u=0;u<f;++u)l=a.call(t,o[u],u,o)+"",(s=c.get(l))?(r[u]=s,s.__data__=o[u],c.delete(l)):n[u]=new Br(t,o[u]);for(u=0;u<h;++u)(s=e[u])&&c.get(g[u])===s&&(i[u]=s)}function Gr(t){return t.__data__}function Qr(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Xr(t){return function(){this.removeAttribute(t)}}function Jr(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Kr(t,e){return function(){this.setAttribute(t,e)}}function ti(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function ei(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}}function ni(t,e){return function(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function ri(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ii(t){return function(){this.style.removeProperty(t)}}function oi(t,e,n){return function(){this.style.setProperty(t,e,n)}}function ai(t,e,n){return function(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function ui(t,e){return t.style.getPropertyValue(e)||ri(t).getComputedStyle(t,null).getPropertyValue(e)}function si(t){return function(){delete this[t]}}function li(t,e){return function(){this[t]=e}}function ci(t,e){return function(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}}function hi(t){return t.trim().split(/^|\s+/)}function fi(t){return t.classList||new gi(t)}function gi(t){this._node=t,this._names=hi(t.getAttribute("class")||"")}function di(t,e){for(var n=fi(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function pi(t,e){for(var n=fi(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function mi(t){return function(){di(this,t)}}function vi(t){return function(){pi(this,t)}}function yi(t,e){return function(){(e.apply(this,arguments)?di:pi)(this,t)}}function wi(){this.textContent=""}function bi(t){return function(){this.textContent=t}}function _i(t){return function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}}function Mi(){this.innerHTML=""}function xi(t){return function(){this.innerHTML=t}}function ki(t){return function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}}function Ai(){this.nextSibling&&this.parentNode.appendChild(this)}function Ci(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ti(){return null}function Di(){var t=this.parentNode;t&&t.removeChild(this)}function Ei(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Ni(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Si(t){return t.trim().split(/^|\s+/).map((function(t){var e="",n=t.indexOf(".");return n>=0&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}))}function Ii(t){return function(){var e=this.__on;if(e){for(var n,r=0,i=-1,o=e.length;r<o;++r)n=e[r],t.type&&n.type!==t.type||n.name!==t.name?e[++i]=n:this.removeEventListener(n.type,n.listener,n.options);++i?e.length=i:delete this.__on}}}function Ui(t,e,n){return function(){var r,i=this.__on,o=function(t){return function(e){t.call(this,e,this.__data__)}}(e);if(i)for(var a=0,u=i.length;a<u;++a)if((r=i[a]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=o,r.options=n),void(r.value=e);this.addEventListener(t.type,o,n),r={type:t.type,name:t.name,value:e,listener:o,options:n},i?i.push(r):this.__on=[r]}}function Fi(t,e,n){var r=ri(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function Hi(t,e){return function(){return Fi(this,t,e)}}function Li(t,e){return function(){return Fi(this,t,e.apply(this,arguments))}}Br.prototype={constructor:Br,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}},gi.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var ji=[null];function Pi(t,e){this._groups=t,this._parents=e}function Yi(t){let e,n,r,i,o,a,u,s,l,c,h,f,g,d,T,D,E,N,S,I,U,F,H,L,j,P,Y,$,z,q,O,R,B,V,W,Z,G,Q,X,J,K,tt,et,nt,rt,it,ot,at,ut,st,lt,ct,ht,ft,gt,dt,pt,mt,vt,yt,wt,bt,_t,Mt,xt,kt,At,Ct,Tt,Dt,Et,Nt,St=Math.round(t[1]/t[2])+"";return{c(){e=p("section"),n=p("h3"),r=p("span"),i=m(t[1]),o=m(" commits over "),a=p("span"),u=m(t[2]),s=m(" days. An average of "),l=p("span"),c=m(St),h=m(" commits per day (D3)"),f=v(),g=p("div"),d=p("div"),T=v(),D=p("h2"),E=m("What’s this?"),N=v(),S=p("p"),I=m("In an ongoing attempt to learn just a bit more about data visualization, I decided to start tracking my github pushes over time. The publicly available "),U=p("a"),F=m("Github API"),H=m(" gave me an opportunity to do that. The default pagination of the API also gave me an opportunity to learn how to make multiple API calls based on the first response. I learned a little about using "),L=p("code"),j=m("Promise.all()"),P=m(", which I’ll be using again because coupling it with "),Y=p("code"),$=m("async/await"),z=m(" makes using fetch much more predictable."),q=v(),O=p("h2"),R=m("What would make this better?"),B=v(),V=p("h3"),W=m("Server-side fetching"),Z=v(),G=p("p"),Q=m("At the moment all of the fetching is done client-side, which means I can’t include my GitHub token in the code. This limits the dataset to the last fourteen days (at least I think it does). If I were to move the API calls to the server I think I would be able to return a larger dataset safely (i.e. I wouldn’t be flashing my Github token all over the internet)."),X=v(),J=p("h3"),K=m("A more elaborate visualization"),tt=v(),et=p("p"),nt=m("GitHub includes a lot more information in the user events data that’s returned from the API. I could feasably make a visualization of all of the different kinds of events over the returned time period. If I were to try a different kind of visualization I could include more detailed data, for example commit messages etc."),rt=v(),it=p("h2"),ot=m("What’s next?"),at=v(),ut=p("p"),st=m("I have a lot to learn about D3. It’s not the kind of (massive) library someone just picks up in a week or so. "),lt=p("a"),ct=m("Mike Bostock"),ht=m(" and all of the D3 contributors have spent well over a decade adding to and refining the library and it’s widely considered to be the granddaddy of all web-based data-visualization. It’s not an easy library, by any means, but mastering it (or, at least, becoming somewhat proficient in its use,) is a prerequisite for any serious work in data visualization on the web."),ft=v(),gt=p("p"),dt=m("Interestingly, both Mike Bostock and "),pt=p("a"),mt=m("Rich Harris"),vt=m(" have been employed as graphics editors at the "),yt=p("a"),wt=m("New York Times"),bt=m(". Rich Harris currently works at the Times, while also developing "),_t=p("a"),Mt=m("Svelte"),xt=m(". Mike Bostock is a former graphics editor there."),kt=v(),At=p("p"),Ct=m("I’ll write more about the process of fetching, curing, and rendering this data. For now, I’ll just leave a link to a great tutorial for creating a basic line chart in D3."),Tt=v(),Dt=p("p"),Et=p("a"),Nt=m("How to draw a simple line chart"),this.h()},l(p){e=y(p,"SECTION",{class:!0});var m=w(e);n=y(m,"H3",{class:!0});var v=w(n);r=y(v,"SPAN",{class:!0});var x=w(r);i=b(x,t[1]),x.forEach(_),o=b(v," commits over "),a=y(v,"SPAN",{class:!0});var k=w(a);u=b(k,t[2]),k.forEach(_),s=b(v," days. An average of "),l=y(v,"SPAN",{class:!0});var A=w(l);c=b(A,St),A.forEach(_),h=b(v," commits per day (D3)"),v.forEach(_),f=M(m),g=y(m,"DIV",{class:!0});var C=w(g);d=y(C,"DIV",{class:!0}),w(d).forEach(_),C.forEach(_),m.forEach(_),T=M(p),D=y(p,"H2",{id:!0});var It=w(D);E=b(It,"What’s this?"),It.forEach(_),N=M(p),S=y(p,"P",{});var Ut=w(S);I=b(Ut,"In an ongoing attempt to learn just a bit more about data visualization, I decided to start tracking my github pushes over time. The publicly available "),U=y(Ut,"A",{href:!0,rel:!0});var Ft=w(U);F=b(Ft,"Github API"),Ft.forEach(_),H=b(Ut," gave me an opportunity to do that. The default pagination of the API also gave me an opportunity to learn how to make multiple API calls based on the first response. I learned a little about using "),L=y(Ut,"CODE",{});var Ht=w(L);j=b(Ht,"Promise.all()"),Ht.forEach(_),P=b(Ut,", which I’ll be using again because coupling it with "),Y=y(Ut,"CODE",{});var Lt=w(Y);$=b(Lt,"async/await"),Lt.forEach(_),z=b(Ut," makes using fetch much more predictable."),Ut.forEach(_),q=M(p),O=y(p,"H2",{id:!0});var jt=w(O);R=b(jt,"What would make this better?"),jt.forEach(_),B=M(p),V=y(p,"H3",{id:!0});var Pt=w(V);W=b(Pt,"Server-side fetching"),Pt.forEach(_),Z=M(p),G=y(p,"P",{});var Yt=w(G);Q=b(Yt,"At the moment all of the fetching is done client-side, which means I can’t include my GitHub token in the code. This limits the dataset to the last fourteen days (at least I think it does). If I were to move the API calls to the server I think I would be able to return a larger dataset safely (i.e. I wouldn’t be flashing my Github token all over the internet)."),Yt.forEach(_),X=M(p),J=y(p,"H3",{id:!0});var $t=w(J);K=b($t,"A more elaborate visualization"),$t.forEach(_),tt=M(p),et=y(p,"P",{});var zt=w(et);nt=b(zt,"GitHub includes a lot more information in the user events data that’s returned from the API. I could feasably make a visualization of all of the different kinds of events over the returned time period. If I were to try a different kind of visualization I could include more detailed data, for example commit messages etc."),zt.forEach(_),rt=M(p),it=y(p,"H2",{id:!0});var qt=w(it);ot=b(qt,"What’s next?"),qt.forEach(_),at=M(p),ut=y(p,"P",{});var Ot=w(ut);st=b(Ot,"I have a lot to learn about D3. It’s not the kind of (massive) library someone just picks up in a week or so. "),lt=y(Ot,"A",{href:!0,rel:!0});var Rt=w(lt);ct=b(Rt,"Mike Bostock"),Rt.forEach(_),ht=b(Ot," and all of the D3 contributors have spent well over a decade adding to and refining the library and it’s widely considered to be the granddaddy of all web-based data-visualization. It’s not an easy library, by any means, but mastering it (or, at least, becoming somewhat proficient in its use,) is a prerequisite for any serious work in data visualization on the web."),Ot.forEach(_),ft=M(p),gt=y(p,"P",{});var Bt=w(gt);dt=b(Bt,"Interestingly, both Mike Bostock and "),pt=y(Bt,"A",{href:!0,rel:!0});var Vt=w(pt);mt=b(Vt,"Rich Harris"),Vt.forEach(_),vt=b(Bt," have been employed as graphics editors at the "),yt=y(Bt,"A",{href:!0,rel:!0});var Wt=w(yt);wt=b(Wt,"New York Times"),Wt.forEach(_),bt=b(Bt,". Rich Harris currently works at the Times, while also developing "),_t=y(Bt,"A",{href:!0,rel:!0});var Zt=w(_t);Mt=b(Zt,"Svelte"),Zt.forEach(_),xt=b(Bt,". Mike Bostock is a former graphics editor there."),Bt.forEach(_),kt=M(p),At=y(p,"P",{});var Gt=w(At);Ct=b(Gt,"I’ll write more about the process of fetching, curing, and rendering this data. For now, I’ll just leave a link to a great tutorial for creating a basic line chart in D3."),Gt.forEach(_),Tt=M(p),Dt=y(p,"P",{});var Qt=w(Dt);Et=y(Qt,"A",{href:!0,rel:!0});var Xt=w(Et);Nt=b(Xt,"How to draw a simple line chart"),Xt.forEach(_),Qt.forEach(_),this.h()},h(){x(r,"class","highlight svelte-wdjgav"),x(a,"class","highlight svelte-wdjgav"),x(l,"class","highlight svelte-wdjgav"),x(n,"class","viz-header"),x(d,"class","lc-chart svelte-wdjgav"),x(g,"class","lc-wrapper"),x(e,"class","commits"),x(D,"id","whats-this"),x(U,"href","https://docs.github.com/en/free-pro-team@latest/rest"),x(U,"rel","nofollow"),x(O,"id","what-would-make-this-better"),x(V,"id","server-side-fetching"),x(J,"id","a-more-elaborate-visualization"),x(it,"id","whats-next"),x(lt,"href","https://observablehq.com/@mbostock"),x(lt,"rel","nofollow"),x(pt,"href","https://twitter.com/Rich_Harris"),x(pt,"rel","nofollow"),x(yt,"href","https://twitter.com/nytgraphics"),x(yt,"rel","nofollow"),x(_t,"href","http://svelte.dev"),x(_t,"rel","nofollow"),x(Et,"href","https://observablehq.com/@jeantimex/how-to-draw-a-basic-line-chart"),x(Et,"rel","nofollow")},m(p,m){k(p,e,m),A(e,n),A(n,r),A(r,i),A(n,o),A(n,a),A(a,u),A(n,s),A(n,l),A(l,c),A(n,h),A(e,f),A(e,g),A(g,d),t[3](d),k(p,T,m),k(p,D,m),A(D,E),k(p,N,m),k(p,S,m),A(S,I),A(S,U),A(U,F),A(S,H),A(S,L),A(L,j),A(S,P),A(S,Y),A(Y,$),A(S,z),k(p,q,m),k(p,O,m),A(O,R),k(p,B,m),k(p,V,m),A(V,W),k(p,Z,m),k(p,G,m),A(G,Q),k(p,X,m),k(p,J,m),A(J,K),k(p,tt,m),k(p,et,m),A(et,nt),k(p,rt,m),k(p,it,m),A(it,ot),k(p,at,m),k(p,ut,m),A(ut,st),A(ut,lt),A(lt,ct),A(ut,ht),k(p,ft,m),k(p,gt,m),A(gt,dt),A(gt,pt),A(pt,mt),A(gt,vt),A(gt,yt),A(yt,wt),A(gt,bt),A(gt,_t),A(_t,Mt),A(gt,xt),k(p,kt,m),k(p,At,m),A(At,Ct),k(p,Tt,m),k(p,Dt,m),A(Dt,Et),A(Et,Nt)},p(t,e){2&e&&C(i,t[1]),4&e&&C(u,t[2]),6&e&&St!==(St=Math.round(t[1]/t[2])+"")&&C(c,St)},d(n){n&&_(e),t[3](null),n&&_(T),n&&_(D),n&&_(N),n&&_(S),n&&_(q),n&&_(O),n&&_(B),n&&_(V),n&&_(Z),n&&_(G),n&&_(X),n&&_(J),n&&_(tt),n&&_(et),n&&_(rt),n&&_(it),n&&_(at),n&&_(ut),n&&_(ft),n&&_(gt),n&&_(kt),n&&_(At),n&&_(Tt),n&&_(Dt)}}}function $i(t){let e,n;const h=[zi];let g={$$slots:{default:[Yi]},$$scope:{ctx:t}};for(let t=0;t<h.length;t+=1)g=r(g,h[t]);return e=new T({props:g}),{c(){i(e.$$.fragment)},l(t){o(e.$$.fragment,t)},m(t,r){a(e,t,r),n=!0},p(t,[n]){const r=0&n?u(h,[f(zi)]):{};4103&n&&(r.$$scope={dirty:n,ctx:t}),e.$set(r)},i(t){n||(s(e.$$.fragment,t),n=!0)},o(t){l(e.$$.fragment,t),n=!1},d(t){c(e,t)}}}Pi.prototype=function(){return new Pi([[document.documentElement]],ji)}.prototype={constructor:Pi,select:function(t){"function"!=typeof t&&(t=Lr(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,u=e[i],s=u.length,l=r[i]=new Array(s),c=0;c<s;++c)(o=u[c])&&(a=t.call(o,o.__data__,c,u))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new Pi(r,this._parents)},selectAll:function(t){t="function"==typeof t?function(t){return function(){var e=t.apply(this,arguments);return null==e?[]:jr(e)}}(t):function(t){return null==t?Pr:function(){return this.querySelectorAll(t)}}(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,u=e[o],s=u.length,l=0;l<s;++l)(a=u[l])&&(r.push(t.call(a,a.__data__,l,u)),i.push(a));return new Pi(r,i)},selectChild:function(t){return this.select(null==t?zr:function(t){return function(){return $r.call(this.children,t)}}("function"==typeof t?t:Yr(t)))},selectChildren:function(t){return this.selectAll(null==t?Or:function(t){return function(){return qr.call(this.children,t)}}("function"==typeof t?t:Yr(t)))},filter:function(t){"function"!=typeof t&&(t=function(t){return function(){return this.matches(t)}}(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],u=a.length,s=r[i]=[],l=0;l<u;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&s.push(o);return new Pi(r,this._parents)},data:function(t,e){if(!arguments.length)return Array.from(this,Gr);var n=e?Zr:Wr,r=this._parents,i=this._groups;"function"!=typeof t&&(t=Vr(t));for(var o=i.length,a=new Array(o),u=new Array(o),s=new Array(o),l=0;l<o;++l){var c=r[l],h=i[l],f=h.length,g=jr(t.call(c,c&&c.__data__,l,r)),d=g.length,p=u[l]=new Array(d),m=a[l]=new Array(d),v=s[l]=new Array(f);n(c,h,p,m,v,g,e);for(var y,w,b=0,_=0;b<d;++b)if(y=p[b]){for(b>=_&&(_=b+1);!(w=m[_])&&++_<d;);y._next=w||null}}return(a=new Pi(a,r))._enter=u,a._exit=s,a},enter:function(){return new Pi(this._enter||this._groups.map(Rr),this._parents)},exit:function(){return new Pi(this._exit||this._groups.map(Rr),this._parents)},join:function(t,e,n){var r=this.enter(),i=this,o=this.exit();return r="function"==typeof t?t(r):r.append(t+""),null!=e&&(i=e(i)),null==n?o.remove():n(o),r&&i?r.merge(i).order():i},merge:function(t){if(!(t instanceof Pi))throw new Error("invalid merge");for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),u=0;u<o;++u)for(var s,l=e[u],c=n[u],h=l.length,f=a[u]=new Array(h),g=0;g<h;++g)(s=l[g]||c[g])&&(f[g]=s);for(;u<r;++u)a[u]=e[u];return new Pi(a,this._parents)},selection:function(){return this},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];--o>=0;)(r=i[o])&&(a&&4^r.compareDocumentPosition(a)&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(t){function e(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}t||(t=Qr);for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a,u=n[o],s=u.length,l=i[o]=new Array(s),c=0;c<s;++c)(a=u[c])&&(l[c]=a);l.sort(e)}return new Pi(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){return Array.from(this)},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){let t=0;for(const e of this)++t;return t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,u=o.length;a<u;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=Sr(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?Jr:Xr:"function"==typeof e?n.local?ni:ei:n.local?ti:Kr)(n,e))},style:function(t,e,n){return arguments.length>1?this.each((null==e?ii:"function"==typeof e?ai:oi)(t,e,null==n?"":n)):ui(this.node(),t)},property:function(t,e){return arguments.length>1?this.each((null==e?si:"function"==typeof e?ci:li)(t,e)):this.node()[t]},classed:function(t,e){var n=hi(t+"");if(arguments.length<2){for(var r=fi(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?yi:e?mi:vi)(n,e))},text:function(t){return arguments.length?this.each(null==t?wi:("function"==typeof t?_i:bi)(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?Mi:("function"==typeof t?ki:xi)(t)):this.node().innerHTML},raise:function(){return this.each(Ai)},lower:function(){return this.each(Ci)},append:function(t){var e="function"==typeof t?t:Fr(t);return this.select((function(){return this.appendChild(e.apply(this,arguments))}))},insert:function(t,e){var n="function"==typeof t?t:Fr(t),r=null==e?Ti:"function"==typeof e?e:Lr(e);return this.select((function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)}))},remove:function(){return this.each(Di)},clone:function(t){return this.select(t?Ni:Ei)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=Si(t+""),a=o.length;if(!(arguments.length<2)){for(u=e?Ui:Ii,r=0;r<a;++r)this.each(u(o[r],e,n));return this}var u=this.node().__on;if(u)for(var s,l=0,c=u.length;l<c;++l)for(r=0,s=u[l];r<a;++r)if((i=o[r]).type===s.type&&i.name===s.name)return s.value},dispatch:function(t,e){return this.each(("function"==typeof e?Li:Hi)(t,e))},[Symbol.iterator]:function*(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r,i=t[e],o=0,a=i.length;o<a;++o)(r=i[o])&&(yield r)}};const zi={layout:"blog",title:"Visualizing Pushes to GitHub with D3",subtitle:"Simple line charts with D3",description:"My Github push actions over the past 14 days, visualized with D3",date:"Sunday, December 6, 2020",author:"Jeff Caldwell"};function qi(t,e,n){let r;async function i(t){let e=[];var i=[];const l=await fetch(t);200!==l.status&&console.error(l.status,l.message);const c=l.headers;if(c.has("link")){const t=c.get("link");at.parse(t).refs.forEach((t=>{i.push(fetch(t.uri))}))}(await l.json()).forEach((t=>e.push(t))),Promise.all(i).then((t=>Promise.all(t.map((t=>t.json()))).then((t=>{t.forEach((t=>{t.forEach((t=>{e.push(t)}))})),async function(t){console.log("dataArray: ",t);let e=t.filter((t=>"PushEvent"===t.type)).map((t=>(t.payload.commits.map((t=>({message:t.message,commitUrl:t.url}))),{id:t.id,date:new Date(t.created_at).toLocaleDateString(),repoUrl:t.repo.url,repoName:t.repo.name,commits:t.payload.commits}))).reduce(((t,e)=>{const n=e.date;return t[n]||(t[n]=[]),t[n].push(e),t}),{});const i=Object.entries(e).map((t=>({date:t[0],commits:t[1]})));o=[...i],console.log("events",o),function(t){const e=function(t){return"string"==typeof t?new Pi([[document.querySelector(t)]],[document.documentElement]):new Pi([[t]],ji)}(r),n={height:600,width:1200,margin:{top:16,right:16,bottom:32,left:32}};n.boundedWidth=n.width-(n.margin.left+n.margin.right),n.boundedHeight=n.height-(n.margin.top+n.margin.bottom);const i=sn("%m/%d/%Y"),o=t=>t.commits.length,a=t=>i(t.date),u=e.append("svg").attr("viewBox",`0 0 ${n.width} ${n.height}`),s=(u.append("rect").attr("fill","none").attr("width",n.width).attr("height",n.height),u.append("g").style("transform",`translate(${n.margin.left}px, ${n.margin.top}px)`)),l=He().domain(Y(t,o)).range([n.boundedHeight,0]),c=function(){return yt.apply(Dr(Ge,Ze,Be,Oe,qe,ze,$e,Ye,un).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}().domain(Y(t,a)).range([0,n.boundedWidth]),h=vt().x((t=>c(a(t)))).y((t=>l(o(t)))),f=(s.append("g").attr("class","grid-lines").selectAll("line").data(l.ticks()).join("line").attr("x1",0).attr("x2",n.width-(n.margin.right+n.margin.left)).attr("y1",(t=>l(t))).attr("y2",(t=>l(t))).attr("stroke","#2d3b52"),s.append("path").attr("d",h(t)).attr("stroke","#ffbb28").attr("fill","none").attr("stroke-width",2),H(4,d).scale(l)),g=function(t){return H(3,t)}().scale(c);s.append("g").call(f),s.append("g").call(g).style("transform",`translateY(${n.boundedHeight}px)`);var d}(o),function(t){const e=sn("%m/%d/%Y");a=t.map((t=>({date:e(t.date),commits:t.commits.length}))),a.map((t=>{n(1,u+=t.commits),n(2,s+=1)})),console.log("lcData: ",a),console.log("Total Commits: ",u),console.log("Number of Days: ",s)}(o)}(e)})))).catch((t=>console.error(t)))}un("%b. %e");let o,a,u,s;return h((async()=>{await i("https://api.github.com/users/nemo-omen/events?per_page=100"),await g()})),o=[],a=[],n(1,u=0),n(2,s=0),[r,u,s,function(t){d[t?"unshift":"push"]((()=>{r=t,n(0,r)}))}]}export default class extends t{constructor(t){super(),e(this,t,qi,$i,n,{})}}export{zi as metadata};
