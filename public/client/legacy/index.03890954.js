import{q as t,S as a,i as e,s as o,P as n,x as r,y as i,z as s,Q as h,R as l,A as c,B as m,C as u,I as f,O as d,h as p,t as g,j as v,k as w,l as y,m as b,g as E,n as $,o as A,f as x,p as I,r as S}from"./client.997d51b2.js";import"./Sidebar.f2d4d8c4.js";import{B as k}from"./blog.b32f8ab3.js";import{i as D,s as j,t as P,l as z,e as H,a as C,b as T,c as M,d as O}from"./line.b837d817.js";function N(t,a,e){t=+t,a=+a,e=(n=arguments.length)<2?(a=t,t=0,1):n<3?1:+e;for(var o=-1,n=0|Math.max(0,Math.ceil((a-t)/e)),r=new Array(n);++o<n;)r[o]=t+o*e;return r}function W(t,a){var e;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(e=function(t,a){if(!t)return;if("string"==typeof t)return R(t,a);var e=Object.prototype.toString.call(t).slice(8,-1);"Object"===e&&t.constructor&&(e=t.constructor.name);if("Map"===e||"Set"===e)return Array.from(t);if("Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e))return R(t,a)}(t))||a&&t&&"number"==typeof t.length){e&&(t=e);var o=0,n=function(){};return{s:n,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i=!0,s=!1;return{s:function(){e=t[Symbol.iterator]()},n:function(){var t=e.next();return i=t.done,t},e:function(t){s=!0,r=t},f:function(){try{i||null==e.return||e.return()}finally{if(s)throw r}}}}function R(t,a){(null==a||a>t.length)&&(a=t.length);for(var e=0,o=new Array(a);e<a;e++)o[e]=t[e];return o}var G=Symbol("implicit");function q(){var t=new Map,a=[],e=[],o=G;function n(n){var r=n+"",i=t.get(r);if(!i){if(o!==G)return o;t.set(r,i=a.push(n))}return e[(i-1)%e.length]}return n.domain=function(e){if(!arguments.length)return a.slice();a=[],t=new Map;var o,r=W(e);try{for(r.s();!(o=r.n()).done;){var i=o.value,s=i+"";t.has(s)||t.set(s,a.push(i))}}catch(t){r.e(t)}finally{r.f()}return n},n.range=function(t){return arguments.length?(e=Array.from(t),n):e.slice()},n.unknown=function(t){return arguments.length?(o=t,n):o},n.copy=function(){return q(a,e).unknown(o)},D.apply(n,arguments),n}function B(){var a,e,o=q().unknown(void 0),n=o.domain,r=o.range,i=0,s=1,h=!1,l=0,c=0,m=.5;function u(){var t=n().length,o=s<i,u=o?s:i,f=o?i:s;a=(f-u)/Math.max(1,t-l+2*c),h&&(a=Math.floor(a)),u+=(f-u-a*(t-l))*m,e=a*(1-l),h&&(u=Math.round(u),e=Math.round(e));var d=N(t).map((function(t){return u+a*t}));return r(o?d.reverse():d)}return delete o.unknown,o.domain=function(t){return arguments.length?(n(t),u()):n()},o.range=function(a){var e;return arguments.length?(e=t(a,2),i=e[0],s=e[1],i=+i,s=+s,u()):[i,s]},o.rangeRound=function(a){var e;return e=t(a,2),i=e[0],s=e[1],i=+i,s=+s,h=!0,u()},o.bandwidth=function(){return e},o.step=function(){return a},o.round=function(t){return arguments.length?(h=!!t,u()):h},o.padding=function(t){return arguments.length?(l=Math.min(1,c=+t),u()):l},o.paddingInner=function(t){return arguments.length?(l=Math.min(1,t),u()):l},o.paddingOuter=function(t){return arguments.length?(c=+t,u()):c},o.align=function(t){return arguments.length?(m=Math.max(0,Math.min(1,t)),u()):m},o.copy=function(){return B(n(),[i,s]).round(h).paddingInner(l).paddingOuter(c).align(m)},D.apply(u(),arguments)}function V(t){let a,e,o,n,r,i,s,h,l,c,m,u,f,d,k,D,j,P,z,H,C,T,M,O,N,W,R,G,q,B,V,Y,L,J,Q,U,F,K,X,Z,_,tt,at,et,ot,nt,rt,it,st,ht,lt,ct,mt,ut,ft,dt,pt,gt,vt,wt,yt,bt,Et,$t,At,xt,It,St,kt,Dt=t[4][0]+"",jt=t[4][t[4].length-1]+"",Pt=t[4][0]+"",zt=t[4][t[4].length-1]+"";return{c(){a=p("section"),e=p("h3"),o=p("span"),n=g(t[2]),r=g(" commits in "),i=p("span"),s=g(t[3]),h=g(" repositories from "),l=p("span"),c=g(Dt),m=g(" to "),u=p("span"),f=g(jt),d=v(),k=p("section"),D=v(),j=p("p"),P=g("Wow that’s ugly! What happened?"),z=v(),H=p("p"),C=g("The hideous chart above is a consequence of my attempt to improve on the "),T=p("a"),M=g("basic line chart"),O=g(" of GitHub commits I made earlier this month. I foolishly thought that throwing more data at it would be an improvement."),N=v(),W=p("p"),R=g("As you can see, I was wrong. So what’s the problem?"),G=v(),q=p("p"),B=g("I’m trying to use the wrong type of visualization for the data. I want to communicate the variance in my GitHub commit activity over a given period of time. Line charts are good for data that’s more or less continuous. The problem with the data I’m providing is that there are periods of high activity interspersed with periods of no activity at all. A line chart just sort of obfuscates what we’re trying to communicate."),V=v(),Y=p("p"),L=g("What we need is a bar chart."),J=v(),Q=p("section"),U=p("h3"),F=p("span"),K=g(t[2]),X=g(" commits in "),Z=p("span"),_=g(t[3]),tt=g(" repositories from "),at=p("span"),et=g(Pt),ot=g(" to "),nt=p("span"),rt=g(zt),it=v(),st=p("section"),ht=v(),lt=p("p"),ct=g("Actually, a bar chart is technically horizontal. This is a column chart or column graph, which is a vertical bar chart."),mt=v(),ut=p("p"),ft=g("Whatever kind of chart it is, it’s important to consider what kind of information and meaning you’re trying to communicate when you make a visualization. The line chart above, aside from being almost totally unappealing, just doesn’t convey the information as well as the column chart."),dt=v(),pt=p("p"),gt=g("Once I’ve gotten some real practice with D3 I’ll start writing some guides to making visualizations, especially within the context of using D3 within a modern framework like Svelte. D3’s been around for a long time and there’s quite a bit of old information available online. A lot of that information doesn’t apply to using it the way someone would want to in this context."),vt=v(),wt=p("h3"),yt=g("Resources"),bt=v(),Et=p("p"),$t=p("a"),At=g("How to Choose the Right Chart"),xt=v(),It=p("p"),St=p("a"),kt=g("How to Choose the Right Visualization Type"),this.h()},l(p){a=w(p,"SECTION",{class:!0});var g=y(a);e=w(g,"H3",{});var v=y(e);o=w(v,"SPAN",{class:!0});var A=y(o);n=b(A,t[2]),A.forEach(E),r=b(v," commits in "),i=w(v,"SPAN",{class:!0});var x=y(i);s=b(x,t[3]),x.forEach(E),h=b(v," repositories from "),l=w(v,"SPAN",{class:!0});var I=y(l);c=b(I,Dt),I.forEach(E),m=b(v," to "),u=w(v,"SPAN",{class:!0});var S=y(u);f=b(S,jt),S.forEach(E),v.forEach(E),d=$(g),k=w(g,"SECTION",{class:!0}),y(k).forEach(E),g.forEach(E),D=$(p),j=w(p,"P",{});var Ht=y(j);P=b(Ht,"Wow that’s ugly! What happened?"),Ht.forEach(E),z=$(p),H=w(p,"P",{});var Ct=y(H);C=b(Ct,"The hideous chart above is a consequence of my attempt to improve on the "),T=w(Ct,"A",{href:!0});var Tt=y(T);M=b(Tt,"basic line chart"),Tt.forEach(E),O=b(Ct," of GitHub commits I made earlier this month. I foolishly thought that throwing more data at it would be an improvement."),Ct.forEach(E),N=$(p),W=w(p,"P",{});var Mt=y(W);R=b(Mt,"As you can see, I was wrong. So what’s the problem?"),Mt.forEach(E),G=$(p),q=w(p,"P",{});var Ot=y(q);B=b(Ot,"I’m trying to use the wrong type of visualization for the data. I want to communicate the variance in my GitHub commit activity over a given period of time. Line charts are good for data that’s more or less continuous. The problem with the data I’m providing is that there are periods of high activity interspersed with periods of no activity at all. A line chart just sort of obfuscates what we’re trying to communicate."),Ot.forEach(E),V=$(p),Y=w(p,"P",{});var Nt=y(Y);L=b(Nt,"What we need is a bar chart."),Nt.forEach(E),J=$(p),Q=w(p,"SECTION",{class:!0});var Wt=y(Q);U=w(Wt,"H3",{});var Rt=y(U);F=w(Rt,"SPAN",{class:!0});var Gt=y(F);K=b(Gt,t[2]),Gt.forEach(E),X=b(Rt," commits in "),Z=w(Rt,"SPAN",{class:!0});var qt=y(Z);_=b(qt,t[3]),qt.forEach(E),tt=b(Rt," repositories from "),at=w(Rt,"SPAN",{class:!0});var Bt=y(at);et=b(Bt,Pt),Bt.forEach(E),ot=b(Rt," to "),nt=w(Rt,"SPAN",{class:!0});var Vt=y(nt);rt=b(Vt,zt),Vt.forEach(E),Rt.forEach(E),it=$(Wt),st=w(Wt,"SECTION",{class:!0}),y(st).forEach(E),Wt.forEach(E),ht=$(p),lt=w(p,"P",{});var Yt=y(lt);ct=b(Yt,"Actually, a bar chart is technically horizontal. This is a column chart or column graph, which is a vertical bar chart."),Yt.forEach(E),mt=$(p),ut=w(p,"P",{});var Lt=y(ut);ft=b(Lt,"Whatever kind of chart it is, it’s important to consider what kind of information and meaning you’re trying to communicate when you make a visualization. The line chart above, aside from being almost totally unappealing, just doesn’t convey the information as well as the column chart."),Lt.forEach(E),dt=$(p),pt=w(p,"P",{});var Jt=y(pt);gt=b(Jt,"Once I’ve gotten some real practice with D3 I’ll start writing some guides to making visualizations, especially within the context of using D3 within a modern framework like Svelte. D3’s been around for a long time and there’s quite a bit of old information available online. A lot of that information doesn’t apply to using it the way someone would want to in this context."),Jt.forEach(E),vt=$(p),wt=w(p,"H3",{id:!0});var Qt=y(wt);yt=b(Qt,"Resources"),Qt.forEach(E),bt=$(p),Et=w(p,"P",{});var Ut=y(Et);$t=w(Ut,"A",{href:!0,rel:!0});var Ft=y($t);At=b(Ft,"How to Choose the Right Chart"),Ft.forEach(E),Ut.forEach(E),xt=$(p),It=w(p,"P",{});var Kt=y(It);St=w(Kt,"A",{href:!0,rel:!0});var Xt=y(St);kt=b(Xt,"How to Choose the Right Visualization Type"),Xt.forEach(E),Kt.forEach(E),this.h()},h(){A(o,"class","highlight svelte-10p1eum"),A(i,"class","highlight svelte-10p1eum"),A(l,"class","highlight svelte-10p1eum"),A(u,"class","highlight svelte-10p1eum"),A(k,"class","chart svelte-10p1eum"),A(a,"class","commits"),A(T,"href","/blog/basic-dataviz-with-d3"),A(F,"class","highlight svelte-10p1eum"),A(Z,"class","highlight svelte-10p1eum"),A(at,"class","highlight svelte-10p1eum"),A(nt,"class","highlight svelte-10p1eum"),A(st,"class","chart svelte-10p1eum"),A(Q,"class","commits"),A(wt,"id","resources"),A($t,"href","https://towardsdatascience.com/data-visualization-how-to-choose-the-right-chart-part-1-d4c550085ea7"),A($t,"rel","nofollow"),A(St,"href","https://www.datapine.com/blog/how-to-choose-the-right-data-visualization-types/"),A(St,"rel","nofollow")},m(p,g){x(p,a,g),I(a,e),I(e,o),I(o,n),I(e,r),I(e,i),I(i,s),I(e,h),I(e,l),I(l,c),I(e,m),I(e,u),I(u,f),I(a,d),I(a,k),t[6](k),x(p,D,g),x(p,j,g),I(j,P),x(p,z,g),x(p,H,g),I(H,C),I(H,T),I(T,M),I(H,O),x(p,N,g),x(p,W,g),I(W,R),x(p,G,g),x(p,q,g),I(q,B),x(p,V,g),x(p,Y,g),I(Y,L),x(p,J,g),x(p,Q,g),I(Q,U),I(U,F),I(F,K),I(U,X),I(U,Z),I(Z,_),I(U,tt),I(U,at),I(at,et),I(U,ot),I(U,nt),I(nt,rt),I(Q,it),I(Q,st),t[7](st),x(p,ht,g),x(p,lt,g),I(lt,ct),x(p,mt,g),x(p,ut,g),I(ut,ft),x(p,dt,g),x(p,pt,g),I(pt,gt),x(p,vt,g),x(p,wt,g),I(wt,yt),x(p,bt,g),x(p,Et,g),I(Et,$t),I($t,At),x(p,xt,g),x(p,It,g),I(It,St),I(St,kt)},p(t,a){4&a&&S(n,t[2]),8&a&&S(s,t[3]),4&a&&S(K,t[2]),8&a&&S(_,t[3])},d(e){e&&E(a),t[6](null),e&&E(D),e&&E(j),e&&E(z),e&&E(H),e&&E(N),e&&E(W),e&&E(G),e&&E(q),e&&E(V),e&&E(Y),e&&E(J),e&&E(Q),t[7](null),e&&E(ht),e&&E(lt),e&&E(mt),e&&E(ut),e&&E(dt),e&&E(pt),e&&E(vt),e&&E(wt),e&&E(bt),e&&E(Et),e&&E(xt),e&&E(It)}}}function Y(t){let a,e;const o=[L];let f={$$slots:{default:[V]},$$scope:{ctx:t}};for(let t=0;t<o.length;t+=1)f=n(f,o[t]);return a=new k({props:f}),{c(){r(a.$$.fragment)},l(t){i(a.$$.fragment,t)},m(t,o){s(a,t,o),e=!0},p(t,[e]){const n=0&e?h(o,[l(L)]):{};8207&e&&(n.$$scope={dirty:e,ctx:t}),a.$set(n)},i(t){e||(c(a.$$.fragment,t),e=!0)},o(t){m(a.$$.fragment,t),e=!1},d(t){u(a,t)}}}const L={title:"Improved Github Commits Visualization",author:"Jaff Caldwell",date:"Wednesday, December 23, 2020",description:"Improving on my first Github commits visualization.",layout:"blog"};async function J(){return await this.fetch("blog/improved-github-visualization.json").then((t=>t.json())).then((t=>({commitsData:t})))}function Q(t,a,e){let o,n,{commitsData:r}=a,i=[],s=[],h=0;r.forEach((t=>{Object.keys(t.commits).forEach((t=>{i[t]||i.push(t)}))}));const l=i.sort(((t,a)=>Date.parse(t)<Date.parse(a)?-1:Date.parse(t)>Date.parse(a)?1:0)),c=(r.map((t=>Object.entries(t.commits).map((t=>({date:t[0],commits:t[1].length}))).forEach((t=>s.push(t))))),s.sort(((t,a)=>Date.parse(t.date)<Date.parse(a.date)?-1:Date.parse(t.date)>Date.parse(a.date)?1:0)).filter((t=>Date.parse(t.date)>Date.parse("12/31/2019"))));function m(t){const a=j(o);console.log("wrapper: ",a);const e={height:600,width:1200,margin:{top:16,right:16,bottom:32,left:32}};e.boundedWidth=e.width-(e.margin.left+e.margin.right),e.boundedHeight=e.height-(e.margin.top+e.margin.bottom);const r=P("%m/%d/%Y"),i=t=>t.commits,s=t=>r(t.date),h=a.append("svg").attr("viewBox",`0 0 ${e.width} ${e.height}`),l=(h.append("rect").attr("fill","none").attr("width",e.width).attr("height",e.height),h.append("g").style("transform",`translate(${e.margin.left}px, ${e.margin.top}px)`)),c=z().domain(H(t,i)).range([e.boundedHeight,0]),m=C().domain(H(t,s)).range([0,e.boundedWidth]),u=T().x((t=>m(s(t)))).y((t=>c(i(t)))),f=(l.append("g").attr("class","grid-lines").selectAll("line").data(c.ticks()).join("line").attr("x1",0).attr("x2",e.width-(e.margin.right+e.margin.left)).attr("y1",(t=>c(t))).attr("y2",(t=>c(t))).attr("stroke","#2d3b52"),l.append("path").attr("d",u(t)).attr("stroke","#ffbb28").attr("fill","none").attr("stroke-width",2),M().scale(c)),d=O().scale(m),p=(l.append("g").call(f),l.append("g").call(d).style("transform",`translateY(${e.boundedHeight}px)`),B().padding(.2).domain(t.map((t=>t.date))).range([0,e.boundedWidth])),g=j(n).append("svg").attr("viewBox",`0 0 ${e.width} ${e.height}`),v=(h.append("rect").attr("fill","none").attr("width",e.width).attr("height",e.height),g.append("g").style("transform",`translate(${e.margin.left}px, ${e.margin.top}px)`));v.append("g").attr("class","grid-lines").selectAll("line").data(c.ticks()).join("line").attr("x1",0).attr("x2",e.width-(e.margin.right+e.margin.left)).attr("y1",(t=>c(t))).attr("y2",(t=>c(t))).attr("stroke","#2d3b52");g.append("g").attr("transform",`translate(${e.margin.left}, ${e.margin.top})`).selectAll("rect").data(t).join("rect").attr("fill","#ffbb28").attr("x",(t=>p(t.date))).attr("y",(t=>c(t.commits))).attr("height",(t=>e.boundedHeight-c(t.commits))).attr("width",p.bandwidth());v.append("g").call(f),v.append("g").call(d).style("transform",`translateY(${e.boundedHeight}px)`)}let u;return c.forEach((t=>{e(2,h+=t.commits)})),console.log("chartElement",o),f((()=>{m(c),console.log("totalCommits",h)})),t.$$set=t=>{"commitsData"in t&&e(5,r=t.commitsData)},t.$$.update=()=>{32&t.$$.dirty&&e(3,u=r.length)},[o,n,h,u,l,r,function(t){d[t?"unshift":"push"]((()=>{o=t,e(0,o)}))},function(t){d[t?"unshift":"push"]((()=>{n=t,e(1,n)}))}]}export default class extends a{constructor(t){super(),e(this,t,Q,Y,o,{commitsData:5})}}export{L as metadata,J as preload};
